name: "P6 GHA: Yamllint"
description: "P6 GHA: Yamllint"
author: "Philip M. Gollucci"

inputs:
  yamllint:
    description: Runs yamllint check"
    required: false
    default: "true"

runs:
  using: "composite"
  steps:
    - name: Checkout code
      uses: p6m7g8-actions/checkout@v6.0.1

    - name: Create yamllint config
      if: ${{ inputs.yamllint == 'true' }}
      shell: bash
      run: |
        echo '---
        extends: default
        rules:
          line-length:
            max: 120
            level: warning' > .yamllint.yaml

    - name: Run yamllint
      uses: karancode/yamllint-github-action@v3.0.0
      with:
        yamllint_file_or_dir: "."
        yamllint_strict: false
        yamllint_comment: true
